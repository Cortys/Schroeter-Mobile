/**************************************\
|*  cssAnimate 1.0.1 for jQuery       *|
|*  (c) 2011 - Clemens Damke          *|
|*  Licensed under MIT License        *|
|*  Based and tested on jQuery 1.6.4  *|
\**************************************/
(function(a){var b=["Webkit","Moz","O","Ms","Khtml",""];a.fn.cssSetQueue=function(b,c){v=this;var d=v.data("cssQueue")?v.data("cssQueue"):[];var e=v.data("cssCall")?v.data("cssCall"):[];var f=0;var g={};a.each(c,function(a,b){g[a]=b});while(1){if(!e[f]){e[f]=g.complete;break}f++}g.complete=f;d.push([b,g]);v.data({cssQueue:d,cssRunning:true,cssCall:e})};a.fn.cssRunQueue=function(){v=this;var a=v.data("cssQueue")?v.data("cssQueue"):[];if(a[0])v.cssEngine(a[0][0],a[0][1]);else v.data("cssRunning",false);a.shift();v.data("cssQueue",a)};a.fn.cssMerge=function(b,c,d){a.each(c,function(c,e){a.each(d,function(a,d){b[d+c]=e})});return b};a.fn.cssAnimationData=function(a,b){var c=this;var d=c.data("cssAnimations");if(!d)d={};if(!d[a])d[a]=[];d[a].push(b);c.data("cssAnimations",d);return d[a]};a.fn.cssAnimationRemove=function(b){var c=b.data("cssAnimations");var d=b.data("identity");a.each(c,function(a,b){c[a]=b.splice(d+1,1)});b.data("cssAnimations",c)};a.fn.cssEngine=function(c,d){var e=this;var f=false;a.each(b,function(a,b){f=e[0].style[b+"AnimationName"]!==undefined?true:f});if(f){if(typeof d.complete=="number")e.data("cssCallIndex",d.complete);function g(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()}var h={linear:"linear",swing:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out"};if(c.transform)a.each(b,function(a,b){c[b+(b?"T":"t")+"ransform"]=c.transform});if(c.borderRadius)a.each(b,function(a,b){c[b+(b?"B":"b")+"orderRadius"]=c.borderRadius});if(c.boxShadow)a.each(b,function(a,b){c[b+(b?"B":"b")+"oxShadow"]=c.boxShadow});var i=[];a.each(c,function(a,b){i.push(g(a))});var j=false;var k=[];var l=[];for(var m=0;m<i.length;m++){k.push(String(d.duration/1e3)+"s");l.push(h[d.easing])}k=e.cssAnimationData("dur",k.join(", ")).join(", ");l=e.cssAnimationData("eas",l.join(", ")).join(", ");var n=e.cssAnimationData("prop",i.join(", "));e.data("identity",n.length-1);n=n.join(", ");var o={TransitionDuration:k,TransitionProperty:n,TransitionTimingFunction:l};var p={};p=a().cssMerge(p,o,b);var q=c;a.extend(p,c);if(p.display=="callbackHide")j=true;else if(p.display)e.css({display:p.display});setTimeout(function(){e.css(p);var b=e.data("runningCSS");b=!b?q:a.extend(b,q);e.data("runningCSS",b);setTimeout(function(){e.data("cssCallIndex","a");if(j)e.css("display","none");a().cssAnimationRemove(e);if(d.queue)e.cssRunQueue();if(typeof d.complete=="number"){e.data("cssCall")[d.complete].call(e);e.data("cssCall")[d.complete]=0}else d.complete.call(e)},d.duration)},0)}else{if(typeof d.complete=="number")d.complete=e.data("cssCall")[d.complete];e.animate(c,d)}};a.fn.str2Speed=function(a){return isNaN(a)?a=="slow"?1e3:a=="fast"?200:600:a};a.fn.cssAnimate=function(b,c,d,e){var f=this;var g={duration:0,easing:"swing",complete:function(){},queue:true};var h={};h=typeof c=="object"?c:{duration:c};h[d?typeof d=="function"?"complete":"easing":0]=d;h[e?"complete":0]=e;h.duration=a().str2Speed(h.duration);a.extend(g,h);f.each(function(c,d){d=a(d);if(g.queue){var e=!d.data("cssRunning");d.cssSetQueue(b,g);if(e)d.cssRunQueue()}else d.cssEngine(b,g)});return f};a.fn.cssPresetOptGen=function(a,b){var c={};c[a?typeof a=="function"?"complete":"easing":0]=a;c[b?"complete":0]=b;return c};a.fn.cssFadeTo=function(b,c,d,e){var f=this;opt=a().cssPresetOptGen(d,e);var g={opacity:c};opt.duration=b;f.each(function(b,d){d=a(d);if(d.data("displayOriginal")!=d.css("display")&&d.css("display")!="none")d.data("displayOriginal",d.css("display")?d.css("display"):"block");else d.data("displayOriginal","block");g.display=c?d.data("displayOriginal"):"callbackHide";d.cssAnimate(g,opt)});return f};a.fn.cssFadeOut=function(a,b,c){if(!this.css("opacity"))this.css("opacity",1);return this.cssFadeTo(a,0,b,c)};a.fn.cssFadeIn=function(a,b,c){if(this.css("opacity"))this.css("opacity",0);return this.cssFadeTo(a,1,b,c)};a.fn.cssPx2Int=function(a){return a.split("p")[0]*1};a.fn.cssStop=function(){var c=this,d=0;c.data("cssAnimations",false).each(function(f,g){g=a(g);var h={TransitionDuration:"0s"};var i=g.data("runningCSS");var j={};if(i)a.each(i,function(b,c){c=isFinite(a().cssPx2Int(c))?a().cssPx2Int(c):c;var d=[0,1];var e={color:["#000","#fff"],background:["#000","#fff"],"float":["none","left"],clear:["none","left"],border:["none","0px solid #fff"],position:["absolute","relative"],family:["Arial","Helvetica"],display:["none","block"],visibility:["hidden","visible"],transform:["scale(0.01)","scale(0.1)"]};a.each(e,function(a,c){if((new RegExp(a,"gi")).test(b))d=c});j[b]=d[0]!=c?d[0]:d[1]});else i={};h=a().cssMerge(j,h,b);g.css(h);setTimeout(function(){var b=a(c[d]);b.css(i).data({runningCSS:{},cssAnimations:{},cssQueue:[],cssRunning:false});if(typeof b.data("cssCallIndex")=="number")b.data("cssCall")[b.data("cssCallIndex")].call(b);b.data("cssCall",[]);d++},0)});return c};a.fn.cssDelay=function(a){return this.cssAnimate({},a)}})(jQuery)